(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports={"search-ul":"_2-Hw6",header:"_2sDJP","loading-container":"_1gBwD","lds-ripple":"_3ish1"}},20:function(e,t,n){e.exports={"search-input":"_361P6","magnifying-glass":"_2_Dlz"}},21:function(e,t,n){e.exports={"search-section-container":"_2qCPL",focus:"vF7L1"}},4:function(e,t,n){e.exports={"m-magnifying-glass":"zsznE","m-search-header":"_2vBPE",toggle:"_2eFCT","m-search-input":"_2abAg","m-search-icons":"hjKZb","m-overlay":"_3_N7E"}},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var o,r,c,i=n(0),a=n(13),u=n(8),s=n(24),l=n(45),f=n(46),E=n(25);!function(e){e.XML="application/xml",e.JSON="application/json; charset=utf-8",e.JS="application/javascript",e.HTML="text/html",e.TEXT="text/plain",e.CSV="text/csv",e.FORM_DATA="multipart/form-data",e.JSON_2="application/json;charset=utf-8"}(o||(o={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.PATCH="PATCH"}(r||(r={})),function(e){e[e.NOT_FOUND=404]="NOT_FOUND",e[e.SERVER_ERROR=500]="SERVER_ERROR"}(c||(c={}));var p,d,m,y,v,T=n(26),_=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(){return(g=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},O={},C=((d={})[o.JSON]=function(e){return e.json()},d[o.JS]=function(e){return e.json()},d[o.XML]=function(e){return e.text()},d[o.TEXT]=function(e){return e.text()},d[o.CSV]=function(e){return e.text()},d[o.HTML]=function(e){return e.text()},d[o.JSON_2]=function(e){return e.json()},d),S={authenticated:!0,endpointHeaders:{}},h=new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GET=t._makeMethod(r.GET),t.POST=t._makeMethod(r.POST,!0),t.PUT=t._makeMethod(r.PUT,!0),t.DELETE=t._makeMethod(r.DELETE),t.PATCH=t._makeMethod(r.PATCH,!0),t.setDefaultHeader=function(e,t){O[e]=t},t}return _(t,e),t.prototype._makeMethod=function(e,t){var n=this;return void 0===t&&(t=!1),function(r,c){return void 0===c&&(c=S),function(i,a){void 0===i&&(i=void 0),void 0===a&&(a={});var u=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!0);for(var o=e,r=0,c=o.match(/:\w+/g)||[];r<c.length;r++){var i=c[r],a=i.slice(1);if(isNaN(parseInt(a,10))){var u=t[a];void 0===u&&(u=a),o=o.replace(i,encodeURIComponent(u)),delete t[a]}else delete t[a]}if(!n){var s=T.stringify(t);s&&(o+=(o.indexOf("?")>=0?"&":"?")+s)}return{url:o,data:t}}(r,i,t),s=c.authenticated,l=c.endpointHeaders,f=g(g({Accept:o.JSON},O),l),E=null;return t&&u.data&&("string"==typeof u.data?(E=u.data,f["Content-Type"]=o.TEXT):u.data instanceof FormData||a.asFormData?(E=function(e){if(e instanceof FormData)return e;var t=new FormData;return Object.keys(e).forEach((function(n){return t.append(n,e[n])})),t}(u.data),f["Content-Type"]=o.FORM_DATA):(E=JSON.stringify(u.data),f["Content-Type"]=o.JSON)),s&&!f.Authorization&&(f.Authorization=function(){throw new Error("Not implemented!")}()),n._makeRequest(e,u.url,f,E)}}},t.prototype._makeRequest=function(e,t,n,o){var r=this;return fetch(t,{method:e,headers:n,body:o}).then((function(e){r.emit(""+e.status,t);var n=e.headers.get("Content-Type");console.log(n,"content");var o=C[n]||function(e){return e.arrayBuffer()};return new Promise((function(t){return t(o(e))})).catch((function(t){Promise.reject({type:"NetworkError",status:e.status,message:t})})).then((function(t){return e.ok?(console.log(e,"RESPONSEBODY"),t):e.status>=c.SERVER_ERROR?Promise.reject({type:"ServerError",status:e.status,body:t}):e.status<c.SERVER_ERROR?Promise.reject({type:"ApplicationError",status:e.status,body:t}):void 0}))})).catch((function(e){return e.type?Promise.reject(e):Promise.reject({type:"ConnectionRefused",status:c.SERVER_ERROR,body:"Check your internet connection"})}))},t}(E.EventEmitter)),R=u.a.countryService||"",L={getCountries:(0,h.GET)(R+"country/list/:name",{authenticated:!1})};y=m||(m={}),function(e){e.GET_COUNTRIES_REQUEST="GET_COUNTRIES_REQUEST",e.GET_COUNTRIES_SUCCESS="GET_COUNTRIES_SUCCESS",e.GET_COUNTRIES_FAILURE="GET_COUNTRIES_FAILURE",e.CLEAR_COUNTRIES="CLEAR_COUNTRIES",e.SELECT_COUNTRY="SELECT_COUNTRY",e.CLEAR_SELECTED_COUNTRY="CLEAR_SELECTED_COUNTRY",e.TOGGLE_MOBILE_SEARCH="TOGGLE_MOBILE_SEARCH"}(v=y.Type||(y.Type={})),y.getCountries=function(e){var t=Object(f.a)(v.GET_COUNTRIES_REQUEST),n=Object(f.a)(v.GET_COUNTRIES_SUCCESS),o=Object(f.a)(v.GET_COUNTRIES_FAILURE);return function(r){return r(t()),L.getCountries({name:e}).then((function(e){r(n(e))}),(function(e){r(o(e))}))}},y.clearCountries=Object(f.a)(v.CLEAR_COUNTRIES),y.selectCountry=Object(f.a)(v.SELECT_COUNTRY),y.clearCountry=Object(f.a)(v.CLEAR_SELECTED_COUNTRY);for(var N=0;N<10;N++);var b,U=n(10),A=n.n(U),j=Object(l.a)(((b={})[m.Type.GET_COUNTRIES_REQUEST]=function(e,t){return A()(e,{countries:{$set:[]},isLoading:{$set:!0}})},b[m.Type.GET_COUNTRIES_SUCCESS]=function(e,t){return A()(e,{countries:{$set:t.payload.slice(0,9)},isLoading:{$set:!1}})},b[m.Type.GET_COUNTRIES_FAILURE]=function(e,t){return A()(e,{isLoading:{$set:!1}})},b[m.Type.CLEAR_COUNTRIES]=function(e,t){return A()(e,{countries:{$set:[]}})},b[m.Type.SELECT_COUNTRY]=function(e,t){return A()(e,{country:{$set:t.payload}})},b),{countries:[],country:null,isLoading:!1}),P=n(2),I=n(27),w=function(e){return function(e){return function(t){return"production"!==u.a.app.environment&&console.log(t),e(t)}}};var k=n(3),F=n(7),G=Object(k.b)((function(e){return{country:e.country.country}}),null)((function(e){var t=e.country,n=void 0===t?null:t,o=i.useState(null),r=o[0],c=o[1],a=window,u={key:"ocVsUGWwD1Ansc7fZYLYZaTJg6eBssHf",verbose:!1,lat:14.4,lon:121.03,zoom:5,latlon:!0},s=F["pulsating-icon"]+" "+F.repeat,l=null,f=function(e){var t=e.map;c(t);var n=document.getElementById("logo-wrapper"),o=document.getElementById("accumulations");n&&(n.style.display="none"),o&&(o.style.display="none")};return i.useEffect((function(){r&&r.on("click",(function(e){var t=e.latlng.lat,n=e.latlng.lng;console.log(e),function(e,t){var n=a.L.divIcon({iconSize:[10,10],className:""+F["icon-dot"],html:'<div class="'+s+'"></div>'});l&&r.removeLayer(l),l=a.L.marker([e,t],{icon:n}),r.addLayer(l)}(t,n)}))}),[r]),i.useEffect((function(){if(r&&n){var e=n.latitude,t=n.longitude;r.panTo([e,t],{animate:!0,duration:.5}),setTimeout((function(){a.L.popup({autoPan:!0,className:F.popup}).setLatLng([e,t]).setContent("\n          <div class='"+F["popup-name"]+"'>"+n.name+"</div>\n          <div>"+n.country+", "+n.country_code+"</div>\n          <div>"+n.continent+"</div>\n          <div>Lat: "+n.latitude+"</div>\n          <div>Long: "+n.longitude+"</div>\n          ").openOn(r)}),1500)}}),[r,n]),i.useEffect((function(){a.windyInit(u,f)}),[]),i.createElement("div",{id:"windy",className:F.windy})})),D=n(20);function M(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object.keys(e).reduce((function(n,o){return t.includes(o)||(n[o]=e[o]),n}),{})}var x=Object(k.b)((function(e){return{countries:e.country.countries,isLoading:e.country.isLoading}}),(function(e){return{countryActions:Object(P.bindActionCreators)(M(m,"Type"),e)}}))((function(e){e.countries;var t=e.isLoading,n=void 0!==t&&t,o=e.countryActions,r=void 0===o?m:o,c=e.setFocus,a=void 0===c?function(){}:c,u=i.useState(""),s=u[0],l=u[1],f=function(){""!==s&&r.getCountries(s)},E=X({type:"text",className:D["search-input"],placeHolder:"Search for country or city",enterKey:function(){f()}}),p=E[0],d=E[1],y=E[2];return i.useEffect((function(){l(d)}),[d]),i.useEffect((function(){a(y)}),[y]),i.createElement(i.Fragment,null,p,n?null:i.createElement("div",{onClick:f,className:D["magnifying-glass"]}))})),H=n(4),B=n(14),J=n(15),Y=Object(k.b)((function(e){return{countries:e.country.countries,isLoading:e.country.isLoading}}),(function(e){return{countryActions:Object(P.bindActionCreators)(M(m,"Type"),e)}}))((function(e){var t=e.mobileSearch,n=void 0!==t&&t,o=(e.countries,e.isLoading,e.toggleMobileSearch),r=void 0===o?function(){return null}:o,c=e.countryActions,a=void 0===c?m:c,u=i.useState(""),s=u[0],l=u[1],f=function(){""!==s&&a.getCountries(s)},E=X({type:"text",className:H["m-search-input"],placeHolder:"Search for country or city",enterKey:function(){f()}}),p=E[0],d=E[1];i.useEffect((function(){l(d)}),[d]),i.useEffect((function(){var e=document.getElementById("progress-bar");e&&(e.style.display=n?"none":"block")}),[n]);return i.createElement(i.Fragment,null,i.createElement("div",{className:H["m-search-header"]+" "+(n?H.toggle:"")},i.createElement(B.a,{icon:J.a,className:H["m-search-icons"],onClick:function(){f()}}),p,i.createElement(B.a,{icon:J.b,className:H["m-search-icons"],onClick:function(){r(),a.clearCountries()}})),n?null:i.createElement(B.a,{onClick:r,className:H["m-magnifying-glass"],icon:J.a}),i.createElement("div",{className:H["m-overlay"]+" "+(n?H.toggle:"")}))})),V=n(16),z=Object(k.b)((function(e){return{countries:e.country.countries,isLoading:e.country.isLoading}}),(function(e){return{countryActions:Object(P.bindActionCreators)(M(m,"Type"),e)}}))((function(e){var t,n=e.countries,o=void 0===n?[]:n,r=e.isLoading,c=void 0!==r&&r,a=e.toggleMobileSearch,u=void 0===a?function(){return null}:a,s=e.countryActions,l=void 0===s?m:s;return c?i.createElement(i.Fragment,null,i.createElement("div",{className:V["loading-container"]},i.createElement("div",{className:V["lds-ripple"]},i.createElement("div",null),i.createElement("div",null)))):0===o.length?null:(t=1,i.createElement(i.Fragment,null,i.createElement("ul",{className:V["search-ul"]},o.map((function(e){return i.createElement("li",{onClick:function(){return function(e){l.clearCountries(),l.selectCountry(e),u()}(e)},key:e.latitude,style:{opacity:t-=.07}},i.createElement("div",null,i.createElement("span",null,e.name),i.createElement("span",null,e.label)))})))))})),$=n(21),K=function(e){var t=i.useState(!1),n=t[0],o=t[1],r=i.useState(!1),c=r[0],a=r[1],u=function(){a(!c)};return i.createElement(i.Fragment,null,i.createElement(Y,{mobileSearch:c,toggleMobileSearch:u}),i.createElement("div",{className:$["search-section-container"]+" "+(n?$.focus:"")},i.createElement(x,{setFocus:function(e){o(e)}})),i.createElement(z,{toggleMobileSearch:u}))},X=function(e){var t=e.type,n=e.className,o=e.placeHolder,r=e.enterKey,c=i.useState(""),a=c[0],u=c[1],s=i.useState(!1),l=s[0],f=s[1];return[i.createElement("input",{value:a,onChange:function(e){return u(e.target.value)},onFocus:function(e){return f(!0)},onBlur:function(e){return f(!1)},onKeyUp:function(e){return function(e){"Enter"!==e.key&&13!==e.keyCode||r()}(e)},type:t,className:n,placeholder:o,spellCheck:"false"}),a,l]},Z=function(e){return i.createElement(i.Fragment,null,i.createElement(K,null),i.createElement(G,null))},Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),q=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.state={},o}return Q(t,e),t.prototype.render=function(){return i.createElement(Z,null)},t}(i.Component),W=(n(42),n(43),function(e){var t=Object(P.applyMiddleware)(w,s.a);"production"!==u.a.app.environment&&(t=Object(I.composeWithDevTools)(t));var n=Object(P.combineReducers)({country:j});return Object(P.createStore)(n,e,t)}());a.render(i.createElement(k.a,{store:W},i.createElement(q,null)),document.getElementById("root"))},7:function(e,t,n){e.exports={windy:"_3F23W","icon-dot":"ru-Z8","pulsating-icon":"_2lpRt",pulsate:"_38Zl-",repeat:"_11h4g","popup-name":"_2sUBN","pulsate-opacity":"_2AORO"}},8:function(e,t,n){"use strict";(function(e){t.a={app:{environment:"production",logLevel:e.env.APP_LOG_LEVEL,port:e.env.APP_PORT||8001},countryService:"https://robincanlas-server-typescript.onrender.com/"}}).call(this,n(23))}},[[44,1,2]]]);