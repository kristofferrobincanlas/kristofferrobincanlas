(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{313:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),l=a(31),s=a(42),c=a(43),i=a(47),u=a.n(i),E=a(141),S=a.n(E),T="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson",p={id:"earthquake-layer",type:"circle",source:"points",paint:{"circle-opacity":.5,"circle-stroke-width":.5,"circle-color":["interpolate",["linear"],["get","mag"],1,"#ffffcc",2,"#ffeda0",3,"#fed976",4,"#feb24c",5,"#fd8d3c",6,"#fc4e2a",7,"#e31a1c",8,"#bd0026",9,"#b10026",10,"#b10026"],"circle-radius":["interpolate",["linear"],["get","mag"],0,2,1,4,2,8,3,12,4,16,5,20,6,30,7,45,8,65,9,75,10,100]}},m=function(){for(var e=[],t=1;t<=10;t++){var a={key:t.toString(),value:t.toString(),text:"Magnitude "+t.toString()+"+"};e.push(a)}return e};!function(e){e.CONFIRMED="confirmed",e.RECOVERED="recovered",e.DEATHS="deaths"}(n||(n={})),function(e){e.GET_STATISTICS_REQUEST="GET_STATISTICS_REQUEST",e.GET_STATISTICS_SUCCESS="GET_STATISTICS_SUCCESS",e.GET_STATISTICS_FAILED="GET_STATISTICS_FAILED",e.SET_GLOBAL_STATISTICS="SET_GLOBAL_STATISTICS",e.SET_COUNTRY_STATISTICS="SET_COUNTRY_STATISTICS",e.GET_COUNTRIES_REQUEST="GET_COUNTRIES_REQUEST",e.GET_COUNTRIES_SUCCESS="GET_COUNTRIES_SUCCESS",e.GET_COUNTRIES_FAILED="GET_COUNTRIES_FAILED",e.GET_DAILY_REQUEST="GET_DAILY_REQUEST",e.GET_DAILY_SUCCESS="GET_DAILY_SUCCESS",e.GET_DAILY_FAILED="GET_DAILY_FAILED"}(r||(r={}));var d=a(321),_=a(92);u.a.accessToken="pk.eyJ1IjoicnVrYmluMDExIiwiYSI6ImNrYWdrbDI3bTA5NzgyeHBuaWkzbWIxeDQifQ.C7KY2elb_bs0qrST3HvSSQ";var f=function(e){var t=o.useRef(null),a=o.useState(null),n=a[0],r=a[1],l=o.useState([]),s=l[0],i=l[1];o.useEffect((function(){var e;e=T,S.a.get(e).then((function(e){i(e.data.features)})).catch((function(e){throw new Error(e)}))}),[]);var E=o.useState(""),f=E[0],g=E[1];o.useEffect((function(){s.length>0&&function(){if(s.length>0){var a=new u.a.Map({container:t.current,style:"mapbox://styles/rukbin011/ckc8or1203fi81irsp4poh1hv",center:[121.76572,13.01153],zoom:4});a.addControl(new u.a.NavigationControl),a.once("load",(function(){a.addSource("points",{type:"geojson",generateId:!0,data:{type:"FeatureCollection",features:s}}),a.addLayer(p);var t=new u.a.Popup({closeButton:!1,closeOnClick:!1});r(a),e.mapIsLoaded();var n=null;a.on("mousemove","earthquake-layer",(function(e){if(e.features&&e.features[0].properties&&"Point"===e.features[0].geometry.type){var r=e.features[0].id;if(r!==n){n=r,a.getCanvas().style.cursor="pointer";for(var o=e.features[0].properties,l=o.mag,s=o.place,c=o.time,i=e.features[0].geometry.coordinates.slice(),u=("null"!==s?"<p>Location: <b>"+s+"</b></p>":"")+"\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Time: <b>"+new Date(c).toDateString()+" - "+new Date(c).toLocaleTimeString()+"</b></p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Magnitude: <b>"+l+"</b></p>";Math.abs(e.lngLat.lng-i[0])>180;)i[0]+=e.lngLat.lng>i[0]?360:-360;t.setLngLat(i).setHTML(u).addTo(a)}}})),a.on("mouseleave","earthquake-layer",(function(){n=null,a.getCanvas().style.cursor="",t.remove()}))}))}}()}),[s]);return o.createElement(o.Fragment,null,o.createElement("div",{className:c.dropdown},o.createElement(d.a,{onChange:function(e,t){var a=t.value?+t.value:null;g(t.value),n&&a&&n.setFilter("earthquake-layer",function(e){for(var t=["in","mag"],a=0;a<10;a++){var n=e+"."+a;t.push(+n)}return t}(a))},placeholder:"Select Magnitude",fluid:!0,search:!0,selection:!0,options:m(),value:f})),""!==f&&o.createElement("div",{onClick:function(){n&&(g(""),n.setFilter("earthquake-layer",null))},className:c.repeat},o.createElement(_.a,{size:"big",name:"repeat"})),o.createElement("div",{id:c.map},o.createElement("div",{className:c.mapContainer},o.createElement("div",{className:c.mapBox,ref:t}))))},g=a(158);a(312),a(313);l.render(o.createElement((function(){var e=o.useState(!0),t=e[0],a=e[1];return o.createElement(o.Fragment,null,t&&o.createElement("span",{className:s.loading},o.createElement("div",{className:s.title},"Monthly Earthquake tracker"),o.createElement("div",{className:s["usgs-logo"]},o.createElement(g.a,{src:"https://www.usgs.gov/sites/all/themes/usgs_palladium/logo.png"})),o.createElement("div",{className:s.spinner}),o.createElement("div",{className:s.footnote},o.createElement("p",null,"Â© ",(new Date).getFullYear(),", Coded by Kristoffer Robin Canlas"))),o.createElement(f,{mapIsLoaded:function(){a(!1)}}))}),null),document.getElementById("root"))},42:function(e,t,a){e.exports={title:"_1vK49",footnote:"_33dIt","usgs-logo":"_1c58g",stats:"_368aN",loading:"_2-1bp",spinner:"_3XlLL","sk-scaleout":"_3789V"}},43:function(e,t,a){e.exports={map:"_2KGeP",mapContainer:"_3auwv",mapBox:"_3IFrC","mapboxgl-popup":"_1-CvP","mapboxgl-popup-content":"_2nBJ5",cases:"X3Bvp",deaths:"_33wTd",recovered:"_1_qCQ",flag:"_2wgLF",repeat:"kEmFC",dropdown:"_2Cnsv"}}},[[314,1,2]]]);